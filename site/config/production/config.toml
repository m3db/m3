# Change the default theme to be use when building the site with Hugo
[module]
  [[module.imports]]
    path = "github.com/chronosphereio/victor"
    
  [[module.mounts]]
    source = "content"
    target = "content/docs"

  [[module.mounts]]
    source = "static"
    target = "static"

  [[module.mounts]]
    source = "layouts"
    target = "layouts"

  [[module.mounts]]
    source = "data"
    target = "data"

  [[module.mounts]]
    source = "assets"
    target = "assets"

  [[module.mounts]]
    source = "i18n"
    target = "i18n"

  [[module.mounts]]
    source = "archetypes"
    target = "archetypes"
    
  [[module.imports]]
    path = "github.com/m3db/docs-archive"

  [[module.imports.mounts]]
    source = "content/v0.15.17"
    target = "content/docs/v0.15.17"

  [[module.imports.mounts]]
    source = "content/v1.0"
    target = "content/docs/v1.0"

  [[module.imports.mounts]]
    source = "content/v1.1"
    target = "content/docs/v1.1"

  [[module.imports.mounts]]
    source = "content/v1.2"
    target = "content/docs/v1.2"

  [[module.imports.mounts]]
    source = "content/v1.3"
    target = "content/docs/v1.3"

ignoreFiles = [ "\\.ttf$", "\\.woff$", "\\.woff2$", "\\.eot$" ]

[permalinks]
  "/" = "/docs/:sections/:title/"
  "faqs" = "/docs/:sections/:title/"
  "glossaries" = "/docs/:sections/:title/"
  "how_tos" = "/docs/:sections/:title/"
  "integrations" = "/docs/:sections/:title/"
  "m3coordinators" = "/docs/:sections/:title/"
  "m3dbs" = "/docs/:sections/:title/"
  "m3querys" = "/docs/:sections/:title/"
  "operational_guides" = "/docs/:sections/:title/"
  "overviews" = "/docs/:sections/:title/"
  "quickstarts" = "/docs/:sections/:title/"
  "troubleshootings" = "/docs/:sections/:title/"

# theme = "docs-theme"
# baseURL = "/"
languageCode = "en-US"
defaultContentLanguage = "en"
# staticDir = ["static"]
enableRobotsTXT = true

metaDataFormat = "yaml"
defaultContentLanguageInSubdir= true

# Highlighting config.
pygmentsCodeFences = true
pygmentsUseClasses = false
# Use the new Chroma Go highlighter in Hugo.
pygmentsUseClassic = false
#pygmentsOptions = "linenos=table"
# See https://help.farbox.com/pygments.html
# pygmentsStyle = "vs"

# enableGitInfo = true

[frontmatter]
# date = ["date", ":filename", "publishDate", "lastmod"]

# Image processing configuration.
[imaging]
resampleFilter = "CatmullRom"
quality = 75
anchor = "smart"

[services]
[services.googleAnalytics]
# Comment out the next line to disable GA tracking. Also disables the feature described in [params.ui.feedback].
# id = "UA-00000000-0"

#fullversion = "v1.18.0"
#version = "v1.18"
githubbranch = "master"
docsbranch = "master"
deprecated = false
#currentUrl = "https://kubernetes.io/home/"
#nextUrl = "https://kubernetes-io-vnext-staging.netlify.com/"
githubWebsiteRepo = "https://github.com/m3db/m3"
githubWebsiteRaw = "raw.githubusercontent.com/m3db/m3"

# Enable Algolia DocSearch
# algolia_docsearch = false

# Enable Lunr.js offline search
offlineSearch = false

[params]
  # Prefix URL to edit current page. Will display an "Edit this page" button on top right hand corner of every page. 
  # Useful to give opportunity to people to create merge request for your doc.
  # See the config.toml file from this documentation site to have an example.

  # Disable search function. It will hide search bar
  disableSearch = false
  # Javascript and CSS cache are automatically busted when new version of site is generated. 
  # Set this to true to disable this behavior (some proxies don't handle well this optimization)
  disableAssetsBusting = false
  # Set this to true to disable copy-to-clipboard button for inline code.
  disableInlineCopyToClipBoard = true
  # A title for shortcuts in menu is set by default. Set this to true to disable it. 
  disableShortcutsTitle = false
  # When using mulitlingual website, disable the switch language button.
  disableLanguageSwitchingButton = false
  # Hide breadcrumbs in the header and only show the current page title
  disableBreadcrumb = true
  # Hide Next and Previous page buttons normally displayed full height beside content
  disableNextPrev = true
  # Order sections in menu by "weight" or "title". Default to "weight"
  ordersectionsby = "weight"
  # Change default color scheme with a variant one. Can be "red", "blue", "green".
  # themeVariant = "blue"
  twitter = "m3db_io"
  disableHomeIcon = true

# TODO: Can all the below be consolidated?
  [[params.versions]]
    version = "latest"
    url = "/docs"
  [[params.versions]]
    version = "v1.3"
    url = "/docs/v1.3"
  [[params.versions]]
    version = "v1.2"
    url = "/docs/v1.2"
  [[params.versions]]
    version = "v1.1"
    url = "/docs/v1.1"
  [[params.versions]]
    version = "v1.0"
    url = "/docs/v1.0"
  [[params.versions]]
    version = "v0.15.17"
    url = "/docs/v0.15.17"

# TODO: Do not like doing this really
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
    [markup.goldmark.parser]
      attribute = true
      autoHeadingID = true
      autoHeadingIDType = "github"
    [markup.tableOfContents]
      endLevel = 3
      ordered = false
      startLevel = 2
    [markup.goldmark.extensions]
      definitionList = true
      footnote = true
      linkify = true
      strikethrough = true
      table = true
      taskList = true
      typographer = true

[outputs]
home = [ "HTML", "RSS", "JSON"]
page = [ "HTML"]
section = [ "HTML"]
chapter = [ "HTML"]
